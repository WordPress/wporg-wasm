!function(){"use strict";var e,t={368:function(){var e=window.wp.element,t=window.wp.components;const n=[{name:"Coblocks",zip:"coblocks",icon:"https://ps.w.org/coblocks/assets/icon-256x256.jpg"},{name:"bbPress",zip:"bbpress",icon:"https://ps.w.org/bbpress/assets/icon-256x256.png?rev=1331499"},{name:"BuddyPress",zip:"buddypress",icon:"https://ps.w.org/buddypress/assets/icon-256x256.png?rev=1331499"},{name:"Gutenberg",zip:"gutenberg",icon:"https://ps.w.org/gutenberg/assets/icon-256x256.jpg"},{name:"Classic Editor",zip:"classic-editor",icon:"https://ps.w.org/classic-editor/assets/icon-256x256.png"},{name:"Duplicate Page",zip:"duplicate-page",icon:"https://ps.w.org/duplicate-page/assets/icon-128x128.jpg"},{name:"Ultimate Blocks",zip:"ultimate-blocks",icon:"https://ps.w.org/ultimate-blocks/assets/icon-256x256.png"}];function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[s,a]=(0,e.useState)(t),r=e=>{let t=[...s];t.includes(e)?t=t.filter((t=>t!==e)):t.push(e),a(t)};return{availablePlugins:n,activePlugins:s,toggleActivePlugin:r}}const a=[{url:"https://wp-themes.com/twentytwentythree",thumbnail:"https://i0.wp.com/themes.svn.wordpress.org/twentytwentythree/1.0/screenshot.png?w=572&strip=all",name:"Twenty Twenty-Three",zip:"twentytwentythree"},{url:"https://wp-themes.com/skatepark",thumbnail:"https://i0.wp.com/themes.svn.wordpress.org/skatepark/1.0.48/screenshot.png?w=572&strip=all",name:"Skatepark",zip:"skatepark"},{url:"https://wp-themes.com/pendant",thumbnail:"https://i0.wp.com/themes.svn.wordpress.org/pendant/1.0.11/screenshot.png?w=572&strip=all",name:"Pendant",zip:"pendant"},{url:"https://wp-themes.com/disco",thumbnail:"https://i0.wp.com/themes.svn.wordpress.org/disco/1.0.3/screenshot.png?w=572&strip=all",name:"Disco",zip:"disco"},{url:"https://wp-themes.com/stewart",thumbnail:"https://i0.wp.com/themes.svn.wordpress.org/stewart/1.15/screenshot.png?w=572&strip=all",name:"Stewart",zip:"stewart"},{url:"https://wp-themes.com/tove",thumbnail:"https://i0.wp.com/themes.svn.wordpress.org/tove/0.7.1/screenshot.png?w=572&strip=all",name:"Tove",zip:"tove"},{url:"https://wp-themes.com/rainfall",thumbnail:"https://i0.wp.com/themes.svn.wordpress.org/rainfall/1.0.5/screenshot.png?w=572&strip=all",name:"Rainfall",zip:"rainfall"},{url:"https://wp-themes.com/raft",thumbnail:"https://i0.wp.com/themes.svn.wordpress.org/raft/1.0.5/screenshot.png?w=572&strip=all",name:"Raft",zip:"raft"}];function r(t){const[n,s]=(0,e.useState)((()=>a.find((e=>e===t))||a[0]));return{availableThemes:a,activeTheme:n,setActiveTheme:s}}function i(n){let{onSubmit:a,initialTheme:i,initialPlugins:o}=n;const{availableThemes:l,activeTheme:c,setActiveTheme:m}=r(i),{availablePlugins:p,activePlugins:u,toggleActivePlugin:d}=s(o),g=e=>{null!=e&&e.preventDefault&&e.preventDefault(),a({theme:c,plugins:u})};return(0,e.createElement)(t.Modal,{isFullScreen:!1,title:"WordPress Playground",onRequestClose:g,className:"wporg-setup-modal"},(0,e.createElement)("p",null,"Welcome to a new and exciting way of testing WordPress Themes and Plugins. Choose a theme, sprinkle with a plugin or a few, and start a new WordPress Playground â€“ all inside of your browser!"),(0,e.createElement)(t.Flex,{wrap:!0},(0,e.createElement)(t.FlexItem,null,(0,e.createElement)("h2",{className:"wporg-setup-modal__section-title"},"Select a theme"),(0,e.createElement)(t.Flex,{as:"ul",justify:"flex-start",className:"wporg-tab-item-list is-theme",wrap:!0,gap:"24px"},l.map((n=>(0,e.createElement)(t.FlexItem,{as:"li",key:n.name,className:"wporg-tab-item-list-item "+(c===n?"is-active":""),onClick:()=>m(n)},(0,e.createElement)("a",{href:n.url,onClick:e=>e.preventDefault()},(0,e.createElement)(t.Flex,{align:"flex-start",direction:"column",gap:0},(0,e.createElement)(t.FlexItem,null,(0,e.createElement)("div",{className:"wporg-tab-item-list__theme-thumbnail-wrapper"},(0,e.createElement)("img",{className:"wporg-tab-item-list__theme-thumbnail",src:n.thumbnail,alt:`Theme: ${n.name}`}))),(0,e.createElement)(t.FlexBlock,{as:"h3",className:"wporg-tab-item-list__item-name"},n.name))),(0,e.createElement)("div",{className:"wporg-tab-item-list__overlay"}))))),(0,e.createElement)("h2",{className:"wporg-setup-modal__section-title",style:{marginTop:-20}},"Add plugins"),(0,e.createElement)(t.Flex,{className:"wporg-tab-item-list is-plugin",justify:"flex-start",wrap:!0,gap:"8px"},p.map((n=>(0,e.createElement)("label",null,(0,e.createElement)(t.FlexItem,{key:n.zip,className:"wporg-tab-item-list-item "+(u.includes(n)?"is-active":"")}," ",(0,e.createElement)(t.Flex,{align:"center",direction:"row",gap:2},(0,e.createElement)(t.FlexItem,null,(0,e.createElement)("img",{src:n.icon,alt:n.name})),(0,e.createElement)(t.FlexBlock,{as:"h3",className:"wporg-tab-item-list__item-name"},n.name),(0,e.createElement)(t.FlexItem,null,(0,e.createElement)(t.CheckboxControl,{checked:u.includes(n),onChange:()=>d(n)})))))))),(0,e.createElement)("div",{className:"wporg-setup-footer"},(0,e.createElement)(t.Button,{isPrimary:!0,className:"wporg-tab-item-list__confirm",onClick:g},"Start Playground")))))}var o=function(t){let{icon:n,size:s=24,...a}=t;return(0,e.cloneElement)(n,{width:s,height:s,...a})},l=window.wp.primitives,c=(0,e.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(l.Path,{d:"M14.5 13.8c-1.1 0-2.1.7-2.4 1.8H4V17h8.1c.3 1 1.3 1.8 2.4 1.8s2.1-.7 2.4-1.8H20v-1.5h-3.1c-.3-1-1.3-1.7-2.4-1.7zM11.9 7c-.3-1-1.3-1.8-2.4-1.8S7.4 6 7.1 7H4v1.5h3.1c.3 1 1.3 1.8 2.4 1.8s2.1-.7 2.4-1.8H20V7h-8.1z"})),m=window.wp.i18n,p=(0,e.forwardRef)(((t,n)=>{let{src:s}=t;return(0,e.createElement)("iframe",{title:"WordPress.org WASM playground",src:s,ref:n})})),u=(0,e.forwardRef)(((n,s)=>{let{showSettingsModal:a,theme:r,plugins:i}=n;const[l,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(!1),f=(0,e.useRef)(),v=(0,e.useRef)(),b=function(e){const t=encodeURIComponent;return e.map((e=>{let[n,s]=e;return t(n)+"="+t(s)})).join("&")}([["rpc","1"],["url","/"],["mode","seamless"],["theme",r.zip],...i.map((e=>["plugin",e.zip]))]);(0,e.useEffect)((()=>{!async function(){let e=!1;do{try{e=await g(f.current,"is_booted",{},{timeout:50})}catch(e){await new Promise((e=>setTimeout(e,50)))}}while(!e);h(!0)}(),window.addEventListener("message",(e=>{var t,n;"new_path"===(null===(t=e.data)||void 0===t?void 0:t.type)&&u(null===(n=e.data)||void 0===n?void 0:n.path)}))}),[]);const E=`https://playground.wordpress.net/?${b}`,y="wporg-demo-browser "+(d?"is-booted":"is-booting");return(0,e.createElement)("div",{className:y,ref:s},(0,e.createElement)(t.Flex,{className:"wporg-demo__viewport-controls",gap:16},(0,e.createElement)(t.FlexItem,{className:"wporg-demo__viewport-controls__dots"}),(0,e.createElement)(t.FlexItem,{style:{flexGrow:1}},(0,e.createElement)("form",{className:"wpplayground-url-bar",onSubmit:e=>{e.preventDefault(),w(f.current,"go_to",{path:l})}},(0,e.createElement)("div",{className:"wpplayground-url-bar__input-container"},(0,e.createElement)("input",{ref:v,value:l,onChange:e=>u(e.target.value),type:"text",autoComplete:"off",className:"wpplayground-url-bar__input",title:(0,m.__)("Playground URL","wasm-demo")})),(0,e.createElement)("input",{type:"submit",tabIndex:"-1",className:"wpplayground-url-bar__submit"}))),(0,e.createElement)(t.FlexItem,null,(0,e.createElement)(t.Flex,{align:"center",justify:"center"},(0,e.createElement)(t.Button,{onClick:a,variant:"tertiary",className:"wporg-demo__settings-button","aria-label":(0,m.__)("Settings","wasm-demo")},(0,e.createElement)(o,{icon:c}))))),(0,e.createElement)("div",{className:"wporg-demo__viewport"},(0,e.createElement)(p,{src:E,ref:f})))}));let d=0;async function g(e,t,n,s){let{timeout:a=5e3}=s;const r=++d;return w(e,t,{...n,requestId:r}),await new Promise(((e,t)=>{async function n(t){var s;t.data.requestId===r&&(e(null===(s=t.data)||void 0===s?void 0:s.response),window.removeEventListener("message",n))}setTimeout((()=>{window.removeEventListener("message",n),t(new Error("RPC request timed out"))}),a),window.addEventListener("message",n)}))}function w(e,t,n){e.contentWindow.postMessage({type:t,...n},"*")}const h="settings",f="playground";function v(t){let{blockAttributes:s}=t;const r=(0,e.useRef)(),{settings:o,bootedAtLeastOnce:l,updateSettings:c,openSettingsModal:m}=function(t){const[s,r]=(0,e.useState)((()=>{var e;const s=new URL(window.location.href).searchParams,r={step:s.get("step"),theme:s.get("theme"),plugins:s.getAll("plugin")},i=r.step||r.theme||null!==(e=r.plugins)&&void 0!==e&&e.length?r:t,o=i.theme||"",l=i.plugins||[];return{step:[f,h].includes(i.step)?i.step:f,theme:a.find((e=>b(e.zip)===b(o)))||a[0],plugins:l.map((e=>n.find((t=>b(t.zip)===b(e))))).filter((e=>e))||[]}}),[]),[i,o]=(0,e.useState)(s.step===f);return{settings:s,bootedAtLeastOnce:i,updateSettings:function(e){let{theme:t,plugins:n}=e;o(!0),r({step:f,theme:t,plugins:n}),E({step:f,theme:t.zip,plugin:n.map((e=>e.zip))})},openSettingsModal:function(){r({...s,step:h}),E({step:h})}}}(s);return(0,e.createElement)("div",null,o.step===h&&(0,e.createElement)(i,{initialTheme:o.theme,initialPlugins:o.plugins,onSubmit:c}),l&&(0,e.createElement)(u,{ref:r,theme:o.theme,plugins:o.plugins,showSettingsModal:m}))}function b(e){return e.toLowerCase().replace(/\.latest\.zip$/g,"")}function E(e){window.history.replaceState({},"",function(e,t){const n=new URL(e);for(const e in t)n.searchParams.delete(e);for(const e in t)if(Array.isArray(t[e]))for(const s of t[e])n.searchParams.append(e,s);else n.searchParams.append(e,t[e]);return n.toString()}(window.location.href,e))}document.addEventListener("DOMContentLoaded",(()=>{document.location.pathname.includes("/demo")&&document.body.parentNode.classList.add("wporg-wasm-demo-page");const t=document.getElementById("wporg-wasm-demo");if(!t)return;const n=Object.fromEntries(Object.entries(t.dataset));(0,e.render)((0,e.createElement)(v,{blockAttributes:n}),t)}))}},n={};function s(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,s),r.exports}s.m=t,e=[],s.O=function(t,n,a,r){if(!n){var i=1/0;for(m=0;m<e.length;m++){n=e[m][0],a=e[m][1],r=e[m][2];for(var o=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(o=!1,r<i&&(i=r));if(o){e.splice(m--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[n,a,r]},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={538:0,431:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,i=n[0],o=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var m=l(s)}for(t&&t(n);c<i.length;c++)r=i[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(m)},n=self.webpackChunkwasm_demo=self.webpackChunkwasm_demo||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=s.O(void 0,[431],(function(){return s(368)}));a=s.O(a)}();